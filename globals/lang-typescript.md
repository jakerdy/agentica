# Typescript Specifics

## Naming

| Тип символа               | `Casing`         |
| ------------------------- | ---------------- |
| Класс, Enum               | `PascalCase`     |
| Интерфейс                 | `IPascalCase`    |
| Поле интерфейса/класса    | `snake_case`     |
| Метод                     | `PascalCase`     |
| Компонент                 | `PascalCase`     |
| Функция                   | `camelCase`      |
| Аргумент                  | `snake_case`     |
| Переменная                | `snake_case`     |
| Ключ Enum'а               | `PascalCase`     |
| Строковое значение Enum'а | `snake_case`     |
| Константа                 | `ALL_CAPS`       |
| Папка/Файл                | `snake_case.ext` |

## Декомпозиция компонентов

Не стоит писать супер глубокие компоненты, по возможности, все "атомарные", и все те кусочки JSX которым можно дать название нужно выносить в отдельный компонент, даже если он не будет повторно использоваться за пределами этого конкретного модуля.

В частности:
- Элементы списка
- Содержимое карточек
- Секции сложных Layout'ов
- ...

## Скрипты
- Форматирование Biome: `bun format`
- Линт Biome: `bun lint`
- Проверка типов проекта: `bun typecheck`
- Проверка типов тестов: `bun typecheck:tests`
- Запуск всех тестов: `bun test`
- Не запускай утилиты через `bunx <tool>`, используй скрипты выше. Если их нет, добавь новый скрипт в `package.json`.

## package.json и зависимости
- Добавляй зависимости только через `bun add <package>`.
- Удаляй зависимости только через `bun remove <package>`.
- **Не** редактируй `package.json` вручную для зависимостей.
- Добавляй зависимости в правильный workspace-пакет.
- Не добавляй расширение `.js` к импортам, если это не требуется. Все внутренние импорты пакетов не должны содержать `.js`.

## ES6 `this` binding

В тех случаях когда код написан в классе, и нужно передать колбек в виде метода, следует передавать стрелочную функцию:

```typescript
// Хорошо:
handle.addEventListener("onclick", (e) => this.BeginDrag(e))

// Плохо:
handle.addEventListener("onclick", this.BeginDrag.bind(this))
```
## Общие обязательные приципы
- Интерфейсы: префикс `I` (например, `IUser`, `IProjectConfig`). Названия файлов для интерфейсов не должны содержать `I` (например, `user.ts`, а не `IUser.ts`).
- Типизация: избегай `any` (используй `unknown` или введи интерфейс/тип).
- Обработка ошибок: выбрасывай только подклассы `Error`.
- Внедрение зависимостей: предпочитай DI через аргументы конструктора/фабрик (важно для тестируемости).
- Архитектура расширения: держи бизнес-логику в **extension host**; webviews не должны превращаться во второй бэкенд.