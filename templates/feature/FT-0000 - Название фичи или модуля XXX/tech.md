# FT-0000 - Название фичи или модуля XXX

Этот документ фиксирует технический план и «интерфейс реализации» фичи/модуля: какие сущности, контракты, алгоритмы и ограничения должны быть воплощены в коде.

Верхнюю часть заполняет пользователь (технические предпочтения/ограничения/план). Ниже агент формирует исчерпывающую спецификацию контрактов и сигнатур под TypeScript.


## Технический план (заполняет пользователь)

**Кратко (1–3 предложения):**
- ...

**Целевая среда и ограничения:**
- Runtime (Node/Bun/Browser): ...
- TypeScript target/module: ...
- Ограничения по совместимости/версии: ...

**Архитектурный набросок:**
- Куда встраиваемся (модуль/пакет/слой): ...
- Границы ответственности (что делает/не делает модуль): ...
- Основные зависимости/интеграции: ...

**Предпочитаемые подходы и библиотеки:**
- Валидация/схемы (например, zod): ...
- DI/IoC (если нужно): ...
- Логирование/трассировка: ...
- Хранилище/HTTP/CLI (если актуально): ...

**Организация кода (ожидаемая структура):**
- Папки/модули: ...
- Публичный API (какие экспорты должны быть доступны): ...

**Ключевые алгоритмы/процессы (списком):**
1. ...
2. ...

**Ошибки и контракты отказов:**
- Какие ошибки ожидаем (категории/коды): ...
- Что возвращаем/кидаем наружу (ошибка vs result): ...

**Нефункциональные требования:**
- Производительность/лимиты: ...
- Безопасность (валидация, доступы, секреты): ...
- Наблюдаемость (логи/метрики): ...


---

## Спецификация реализации (заполняет агент)

Эта секция — формальная спецификация для генерации/реализации кода. Она должна быть достаточно точной, чтобы реализация не требовала значимых изменений публичных контрактов.

### Термины и глоссарий (опционально)

- Term1: ...

### Публичное API модуля

- Экспортируемые функции/классы: ...
- События/хуки (если есть): ...

### Модели данных и схемы

- Входные структуры: ...
- Выходные структуры: ...
- Внутренние структуры: ...

### Основные интерфейсы и контракты

- `IInterfaceXXX`: описание интерфейса, который будет реализован фичей или модулем XXX.
- `ClassXXX`: описание класса, который реализует `IInterfaceXXX` и предоставляет публичный API.

### Логика и алгоритмы

Логика работы фичи или модуля XXX строится на основе ... (краткое описание основных алгоритмов, которые реализует фича или модуль XXX, и их взаимодействия между собой).

#### Бизнес-процесс 001

Описание бизнес-процесса 001, который реализует фича или модуль XXX.
Это может включать в себя описание входных данных, шагов обработки и ожидаемых результатов.

#### Алгоритм 001 для бизнес-процесса 001

Описание алгоритма 001, который используется для реализации бизнес-процесса 001.
Это может включать в себя описание основных шагов алгоритма, его сложности и оптимизаций.

...

### Интерфейсы, контракты и классы (формально)

### IInterfaceXXX

Описание интерфейса IInterfaceXXX, его методов, параметров и возвращаемых значений.

```typescript

import { z } from 'zod';

const schema = z.object({
  ...
});

export type IInterfaceXXX = z.infer<typeof schema>;

```

### ClassXXX

Описание класса ClassXXX, его методов, параметров и возвращаемых значений.

```typescript

import { z } from 'zod';

const schema = z.object({
  ...
});

export type IClassXXXInit = z.infer<typeof schema>;

export class ClassXXX implements IInterfaceXXX {

  constructor(init: IClassXXXInit) {
    ...
  }

  /**
   * Описание метода Method1, его параметров и возвращаемого значения.
   * @param x - описание параметра x
    * @returns описание возвращаемого значения
   */
  Method1(x: Type): ReturnType;

  ...

}

```

### 2.7 Ошибки

- Перечень доменных ошибок: ...
- Формат ошибок (name/code/cause): ...
- Что является retryable/terminal: ...

### 2.8 Конфигурация

- Какие env/config нужны: ...
- Дефолты и валидация конфигурации: ...

### 2.9 Тестовая стратегия (на уровне реализации)

- Unit: что тестируем (списком): ...
- Integration: что тестируем (границы/моки): ...
- E2E: маппинг на User Stories: ...